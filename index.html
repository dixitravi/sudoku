
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kido Sudoku</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <link rel="stylesheet" href="styles.css">
  <script defer src="app.js"></script>

  <!-- Small inline styles to support the new behaviors -->
  <style>
    /* Hide header when we toggle this class on mobile game start */
    .site-header--hidden { display: none !important; }

    /* Same-number highlighting */
    .sudoku-cell--same-value {
      background: #fff7ed;                    /* subtle warm highlight */
      box-shadow: inset 0 0 0 2px #fdba74;    /* orange-200 outline */
    }
    .sudoku-cell--fixed.sudoku-cell--same-value {
      background: #fff2cc;                    /* a little stronger for givens */
    }
  </style>
</head>
<body class="page page--gradient-bg">

<!-- SVG sprite ‚Äì lightweight icons used across the app -->
<svg xmlns="http://www.w3.org/2000/svg" style="position:absolute; width:0; height:0; overflow:hidden;">
  <symbol id="icon-check" viewBox="0 0 24 24" fill="currentColor">
    <path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/>
  </symbol>
  <symbol id="icon-help" viewBox="0 0 24 24" fill="currentColor">
    <path d="M12 2a10 10 0 100 20 10 10 0 000-20zm.25 15.5h-1.5v-1.5h1.5v1.5zM11 7.75c0-.97.78-1.75 1.75-1.75s1.75.78 1.75 1.75-.46 1.37-1.17 1.67c-.77.33-1.33.89-1.33 1.58v.5h-1.5v-.5c0-1.36.96-2.31 1.83-2.68.31-.13.42-.3.42-.57 0-.14-.06-.29-.17-.4a.55.55 0 00-.41-.17c-.31 0-.67.23-.67.57H11z"/>
  </symbol>
  <symbol id="icon-plus" viewBox="0 0 24 24" fill="currentColor">
    <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/>
  </symbol>
  <symbol id="icon-undo" viewBox="0 0 24 24" fill="currentColor">
    <path d="M12.5 8a6.5 6.5 0 00-4.6 1.9L6 8v6h6l-2.1-2.1a4.5 4.5 0 116.1 6.6l1.2 1.6a6.5 6.5 0 00-4.7-11z"/>
  </symbol>
  <symbol id="icon-eye" viewBox="0 0 24 24" fill="currentColor">
    <path d="M12 5c5 0 9 4.5 10 7-1 2.5-5 7-10 7S3 14.5 2 12c1-2.5 5-7 10-7zm0 2c-3.9 0-7 3.6-7.8 5 .8 1.4 3.9 5 7.8 5s7-3.6 7.8-5C19 10.6 15.9 7 12 7zm0 2.5A2.5 2.5 0 1112 14a2.5 2.5 0 010-5.5z"/>
  </symbol>
  <symbol id="icon-back" viewBox="0 0 24 24" fill="currentColor">
    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
  </symbol>
  <symbol id="icon-trash" viewBox="0 0 24 24" fill="currentColor">
    <path d="M9 3h6l1 2h4v2H4V5h4l1-2zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM7 9h2v9H7V9z"/>
  </symbol>
</svg>


<header class="site-header">
  <div class="container site-header__inner">
    <div class="site-brand">
      <span class="site-brand__logo" aria-hidden="true">üî¢</span>
      <div class="site-brand__text">
        <!-- Gradient logo split into two spans -->
        <h1 class="site-brand__title">
          <span class="logo--warm">Kido</span>
          <span class="logo--cool">Sudoku</span>
        </h1>
        <!-- removed the "We'll greet you..." line -->
      </div>
    </div>

    <div class="site-header__meta">
      <!-- NEW: Help icon in masthead -->
      <button id="helpBtn" class="icon-btn" type="button" aria-label="How it works" title="How it works">
        <svg class="icon" width="22" height="22" aria-hidden="true"><use href="#icon-help"/></svg>
      </button>
    </div>
  </div>
</header>


  <main class="site-main">
    <!-- Landing / Setup -->
    <section id="landing-section" class="section section--padded" aria-label="Game setup">
      <div class="container">
        <div class="grid grid--landing">
          <!-- Left: intro / name -->
          <div class="card card--primary card--pop-in">
            <header class="card__header">
              <h2 class="card__title">Start your Sudoku adventure</h2>
              <p class="card__subtitle">Enter your name and pick a fun challenge to begin.</p>
            </header>
            <div class="card__body">
              <!-- Player name -->
              <div class="form-group">
                <label for="playerName" class="form-label">Your name</label>
                <input id="playerName" class="form-input" type="text" autocomplete="off" maxlength="20" placeholder="Type your name here...">
              </div>

              <!-- Game mode -->
              <fieldset class="form-group form-group--fieldset">
                <legend class="form-label">Choose a game mode</legend>
                <div class="button-group button-group--modes" role="radiogroup" aria-label="Game mode">
                  <button type="button" class="mode-pill" data-mode="easy" aria-pressed="false">
                    <span class="mode-pill__title">Clue Hunter</span>
                    <span class="mode-pill__tag">Easy</span>
                  </button>
                  <button type="button" class="mode-pill" data-mode="medium" aria-pressed="false">
                    <span class="mode-pill__title">Code Breaker</span>
                    <span class="mode-pill__tag">Medium</span>
                  </button>
                  <button type="button" class="mode-pill" data-mode="hard" aria-pressed="false">
                    <span class="mode-pill__title">Master Mind</span>
                    <span class="mode-pill__tag">Hard</span>
                  </button>
                </div>
                <!-- Mode definition box -->
                <div id="modeDescription" class="mode-description card card--soft" aria-live="polite">
                  <p class="mode-description__placeholder">Tap a mode to see what it means.</p>
                </div>
              </fieldset>

              <!-- Grid size -->
              <fieldset class="form-group form-group--fieldset">
                <legend class="form-label">Pick a grid size</legend>
                
<div class="button-group button-group--sizes" role="radiogroup" aria-label="Grid size">
  <button type="button" class="size-pill" data-size="4" aria-pressed="false" title="Play a 4√ó4 grid">4√ó4</button>
  <button type="button" class="size-pill" data-size="6" aria-pressed="false" title="Play a 6√ó6 grid">6√ó6</button>
  <button type="button" class="size-pill" data-size="9" aria-pressed="false" title="Play a 9√ó9 grid">9√ó9</button>
</div>

              </fieldset>
            </div>
            <footer class="card__footer card__footer--actions">
              <button id="startGameBtn" class="btn btn--primary btn--large" type="button" disabled>
                Start Game
              </button>
              <!-- (Optional) Resume button if you later add it -->
              <!-- <button id="resumeBtn" class="btn btn--ghost btn--large" type="button" hidden>Resume last game</button> -->
            </footer>
          </div>

          <!-- Right: info / tips card -->
          
        </div>
      </div>
    </section>

    <!-- Game Screen -->
    <section id="game-section" class="section section--padded section--hidden" aria-label="Sudoku game" hidden>
      <div class="container">
        <div class="card card--primary card--pop-in game-shell">
          <header class="card__header game-header">
            <div class="game-header__actions">
              <button id="backBtn" type="button" class="btn btn--ghost btn--small" aria-label="Back to setup">‚Üê Back</button>
            </div>
            <div class="game-header__title-block">
              <h2 class="card__title" id="gameTitle">Sudoku! Welcome, <span id="playerNameDisplay"></span>!</h2>
              <p class="card__subtitle" id="gameSubtitle">Fill the board without repeating numbers in any row or column.</p>
            </div>
            <div class="game-header__meta">
              <div class="meta-pill">
                <span class="meta-pill__label">Mode</span>
                <span class="meta-pill__value" id="modeDisplay"></span>
              </div>
              <div class="meta-pill">
                <span class="meta-pill__label">Grid</span>
                <span class="meta-pill__value" id="sizeDisplay"></span>
              </div>
              <div class="meta-pill">
                <span class="meta-pill__label">Time</span>
                <span class="meta-pill__value" id="timerDisplay">00:00</span>
              </div>
              <div class="meta-pill">
                <span class="meta-pill__label">Score</span>
                <span class="meta-pill__value" id="scoreDisplay">0</span>
              </div>
              <div class="meta-pill">
                <span class="meta-pill__label">High</span>
                <span class="meta-pill__value" id="highScoreDisplay">-</span>
              </div>
            </div>
          </header>

          <div class="card__body game-body">
            <div class="game-layout">
              <!-- Board -->
              <section class="game-panel game-panel--board" aria-label="Sudoku board">
                <div id="board" class="sudoku-board" role="grid" aria-label="Sudoku board">
                  <!-- Cells will be generated by JS -->
                </div>
                <p class="board-help">Tap a cell, then tap a number below. Use Notes for pencil marks.</p>
              </section>

              <!-- Right side: keypad / controls -->
              <section class="game-panel game-panel--controls" aria-label="Number keypad and controls">
                <!-- Notes toggle -->
                <div class="controls-row controls-row--top">
                  <button id="notesToggleBtn" type="button" class="btn btn--ghost" aria-pressed="false">Notes mode</button>
                </div>

                <!-- Number keypad -->
                <div class="keypad" role="group" aria-label="Number keypad" id="keypad">
                  <!-- JS will inject digit buttons 1-4 or 1-6 -->
                </div>

                <!-- Control buttons -->
                <div class="controls-row controls-row--bottom">
                  <button id="checkBtn" type="button" class="btn btn--ghost">Check</button>
                  <button id="hintBtn" type="button" class="btn btn--ghost">Hint</button>
                  <button id="newPuzzleBtn" type="button" class="btn btn--ghost">New puzzle</button>
                  <button id="solutionBtn" type="button" class="btn btn--ghost">Show solution</button>
                  <button id="undoBtn" type="button" class="btn btn--ghost" disabled>Undo</button>
                  <!-- Share button removed as requested -->
                  <!-- <button id="shareBtn" type="button" class="btn btn--ghost" disabled>Share</button> -->
                </div>
              </section>
            </div>
          </div>
        </div>

        <!-- Live regions for announcements -->
        <div aria-live="polite" class="sr-only" id="statusMessage"></div>
        <div aria-live="assertive" class="sr-only" id="errorMessage"></div>
      </div>
    </section>
  </main>

  <!-- Completion overlay -->
  <div id="completionOverlay" class="overlay overlay--hidden" role="dialog" aria-modal="true" aria-labelledby="completionTitle" aria-describedby="completionStats" hidden>
    <div class="overlay__backdrop"></div>
    <div class="overlay__content card card--primary card--pop-in">
      <div class="confetti-layer" aria-hidden="true" id="confettiLayer"></div>
      <header class="card__header overlay__header">
        <h2 id="completionTitle" class="card__title">Puzzle complete!</h2>
        <p class="card__subtitle">Awesome job, brain hero! üß†‚ú®</p>
      </header>
      <div class="card__body overlay__body" id="completionStats">
        <p><strong>Time:</strong> <span id="finalTime"></span></p>
        <p><strong>Score:</strong> <span id="finalScore"></span></p>
      </div>
      <footer class="card__footer overlay__footer">
        <button id="playAgainBtn" type="button" class="btn btn--primary">New puzzle</button>
        <button id="changeSettingsBtn" type="button" class="btn btn--ghost">Change settings</button>
      </footer>
    </div>
  </div>
  
  
<div id="helpOverlay" class="overlay overlay--hidden" role="dialog" aria-modal="true" aria-labelledby="helpTitle" aria-describedby="helpContent" hidden>
  <div class="overlay__backdrop" data-close-help></div>
  <div class="overlay__content card card--primary card--pop-in help-modal">
    <header class="card__header">
      <h2 id="helpTitle" class="card__title">How it works</h2>
      <button class="icon-btn" id="helpCloseBtn" type="button" aria-label="Close help">
        <svg class="icon" width="20" height="20"><use href="#icon-back"/></svg>
      </button>
    </header>
    <div id="helpContent" class="card__body">
      <ul class="feature-list">
        <li>Fill the grid so each row and column has every number only once.</li>
        <li>Use Notes mode to jot tiny helper numbers inside a cell.</li>
        <li>Wrong tries gently lower your score, but you never go below zero.</li>
      </ul>
    </div>
  </div>
</div>

  
</body>
</html>
